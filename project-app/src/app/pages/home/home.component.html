<body>
  <p>
    <!--NAVIGATION TOOLBAR-->
    <mat-toolbar class="toolbar">

      <button mat-raised-button mat-icon-button class="icon-button-color" [matMenuTriggerFor]="menu">
        <mat-icon class="white">menu</mat-icon>
      </button>

      <span class="example-spacer"></span>
      <span class="white">HOME</span>
      <span class="example-spacer"></span>

    </mat-toolbar>
  </p>


  <!--Angular Material Grid to create 3 columns-->
  <mat-grid-list cols="4" rows="2" rowHeight="100%" class="black-color">
    <!--Left Column-->
    <mat-grid-tile colspan='1' class="left-grid">
      <div class="button-column">
        <button mat-icon-button mat-raised-button class="icon-button-color" (click)="openDialog()"><mat-icon class="white">create</mat-icon></button>
        <br>
        <br>
        <br>
        <button mat-icon-button mat-raised-button class="icon-button-color" routerLink="/home"><mat-icon class="white">home</mat-icon></button>
        <br>
        <br>
        <br>
        <button mat-icon-button mat-raised-button class="icon-button-color" routerLink="/profilepage"><mat-icon class="white">person</mat-icon></button>
        <br>
        <br>
        <br>
        <button mat-icon-button mat-raised-button class="icon-button-color" (click)="onSignOut()"><mat-icon class="white">arrow_back</mat-icon></button>
      </div>
    </mat-grid-tile>

    <!--Middle Column-->
    <mat-grid-tile colspan='2' *ngIf="chat$ | async as chat" class="middle-grid">
      <mat-list role="list">
        <cdk-virtual-scroll-viewport itemSize="50" class="viewport">
          
          <!--Card-->
          <mat-card class="user-card" role="listitem" mat-list-item *ngFor="let msg of chat.messages; trackBy: trackByCreated">
            
            <!--Card-Header-->
            <mat-card-header>
              <div mat-card-avatar><img width="30"
                  src="https://cdn2.iconfinder.com/data/icons/facebook-51/32/FACEBOOK_LINE-01-512.png"></div>
              <mat-card-title class="user-card-title">
                <div>{{ msg.user?.email }}</div>
              </mat-card-title>
            </mat-card-header>

            <!--Card-Content-->
            <mat-card-content class="user-card-content">
              <p>
                {{ msg.content }}
              </p>
            </mat-card-content>
            
            <!--Card-Actions-->
            <mat-card-actions class="user-card-actions">
              <button mat-button>LIKE</button>
              <button mat-button>SHARE</button>
            </mat-card-actions>

          </mat-card>
        </cdk-virtual-scroll-viewport>
      </mat-list>
    </mat-grid-tile>

    <!--Right Column-->
    <mat-grid-tile colspan='1' class="right-grid">3</mat-grid-tile>
  </mat-grid-list>


</body>


<!-- mat-menu-trigger-for -->
<!-- Gets Triggered When Menu Icon Clicked -->
<mat-menu #menu="matMenu"  class="black-color">
  <button mat-menu-item routerLink="/home">Home</button>
  <button mat-menu-item routerLink="/profilepage"> Profile</button>
  <button mat-menu-item (click)="onSignOut()"> Sign Out</button>
  <button mat-menu-item (click)="sendMessage()"> Send</button>
</mat-menu>


